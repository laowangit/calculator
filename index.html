<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>交易品种手数计算器</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="PositionCalculator.css">
</head>
<body>
    <div class="container py-5">
        <div class="card">
            <div class="card-header">
                计算交易所需的手数大小
            </div>
            
            <div class="card-body">
                <form id="positionCalculator">
                    <div class="form-group">
                        <label for="tradingSymbol">交易品种类型 *</label>
                        <select class="form-select" id="tradingSymbol" required>
                            <option value="">-- 请选择交易品种类型 --</option>
                            <option value="indirect">间接报价xxxUSD（如EURUSD）</option>
                            <option value="direct">直接报价USDxxx（如USDJPY）</option>
                            <option value="indirect_cross">间接报价交叉盘（如EURGBP）</option>
                            <option value="direct_cross">直接报价交叉盘（如EURJPY）</option>
                            <option value="gold">黄金（XAU/USD）</option>
                            <option value="silver">白银（XAG/USD）</option>
                            <option value="oil">原油</option>
                            <option value="usindex">三大美指（美元指数）</option>
                            <option value="germanindex">德指（DAX）</option>
                            <option value="japanindex">日经（Nikkei）</option>
                            <option value="hkindex">恒指（HSI）</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="leverSize">杠杆大小 *</label>
                        <select class="form-select" id="leverSize" required>
                            <option value="">-- 请选择杠杆大小 --</option>
                            <option value=100>100</option>
                            <option value=200>200</option>
                            <option value=300>300</option>
                            <option value=400>400</option>
                            <option value=500>500</option>
                            <option value=1000>1000</option>
                        </select>
                    </div>

                    <div id="marginRateField" class="form-group">
                        <label for="marginRate">预付款率（预付款百分比） *</label>
                        <div class="input-group">
                            <input type="number" class="form-control" id="marginRate" step="0.01" placeholder="输入预付款率" required>
                            <span class="input-group-text">%</span>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="entryPrice">开仓价 *</label>
                                <div class="input-group">
                                    <input type="number" class="form-control" id="entryPrice" step="0.00001" placeholder="输入开仓价" required>
                                    <span class="input-group-text">USD</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="stopLoss">止损价 *</label>
                                <div class="input-group">
                                    <input type="number" class="form-control" id="stopLoss" step="0.00001" placeholder="输入止损价" required>
                                    <span class="input-group-text">USD</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="totalCapital">总资金 *</label>
                                <div class="input-group">
                                    <input type="number" class="form-control" id="totalCapital" placeholder="输入总资金金额" required>
                                    <span class="input-group-text">USD</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="stopLossPercent">固定止损比 *</label>
                                <div class="input-group">
                                    <input type="number" class="form-control" id="stopLossPercent" step="0.1" placeholder="输入止损百分比" required>
                                    <span class="input-group-text">%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="baseCurrencyExchangeRateField" class="form-group hidden">
                        <label for="baseCurrencyExchangeRate">基础货币汇率（也就是第一个货币与美元之间的汇率） *</label>
                        <div class="input-group">
                            <input type="number" class="form-control" id="baseCurrencyExchangeRate" step="0.00001" placeholder="输入基础货币汇率">
                            <span class="input-group-text">USD</span>
                        </div>
                    </div>

                    <div id="quotedCurrencyExchangeRateField" class="form-group hidden">
                        <label for="quotedCurrencyExchangeRate">报价货币汇率（也就是第二个货币与美元之间的汇率） *</label>
                        <div class="input-group">
                            <input type="number" class="form-control" id="quotedCurrencyExchangeRate" step="0.00001" placeholder="输入报价货币汇率">
                            <span class="input-group-text">USD</span>
                        </div>
                    </div>
                    
                    <div id="contractSizeField" class="form-group hidden">
                        <label for="contractSize">1手合约量 *</label>
                        <div class="input-group">
                            <input type="number" class="form-control" id="contractSize" placeholder="输入1手合约量">
                            <span class="input-group-text">单位</span>
                        </div>
                    </div>
                    
                    <div id="marginCurrencyExchangeRateField" class="form-group hidden">
                        <label for="marginCurrencyExchangeRate">预付款货币汇率 *</label>
                        <div class="input-group">
                            <input type="number" class="form-control" id="marginCurrencyExchangeRate" step="0.00001" placeholder="输入预付款货币汇率">
                            <span class="input-group-text">USD</span>
                        </div>
                    </div>
                    
                    <button type="button" id="calculateBtn" class="btn btn-calculate btn-lg">计算手数大小</button>
                    
                    <div id="positionSizeResultSection" class="result-container hidden">
                        <div class="text-center">
                            <h5>推荐的手数大小为：</h5>
                            <div class="result-value" id="positionSizeResult">--</div>
                            <p class="mt-2"><small>单位：标准手</small></p>
                        </div>
                    </div>

                    <div id="marginResultSection" class="result-container hidden">
                        <div class="text-center">
                            <h5>所需的保证金为：</h5>
                            <div class="result-value" id="marginResult">--</div>
                            <p class="mt-2"><small>单位：USD</small></p>
                        </div>
                    </div>
                </form>
                
                <div class="explanation">
                    <h5>交易品种类型说明</h5>
                    <ul>
                        <li><strong>间接报价（如EURUSD）</strong> - 表示基础货币是其他货币，报价货币为美元</li>
                        <li><strong>直接报价（如USDJPY）</strong> - 表示基础货币是美元，报价货币为其他货币</li>
                        <li><strong>交叉盘</strong> - 涉及两种非美元货币的交易对，需要提供交叉盘汇率</li>
                        <li><strong>贵金属（黄金/白银）</strong> - 以美元计价的贵金属交易</li>
                        <li><strong>能源（原油）</strong> - 以美元计价的原油交易</li>
                        <li><strong>指数交易</strong> - 包括美元指数、德指、日经和恒指等品种</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <footer>
            <p>© 2025 交易手数计算器 | 专业金融工具</p>
            <p><small>注意：计算结果与实际开仓结果可能会存在部分差异，此计算结果仅供交易参考，请根据自身风险承受能力进行交易决策</small></p>
        </footer>
    </div>
    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" src="PositionCalculator.js"></script>
</body>
</html>